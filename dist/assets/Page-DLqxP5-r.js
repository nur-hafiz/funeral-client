import{h as f,d as y,r as P,j as m,o as w,k as j,a as c,g as b,w as v,l as C,t as i,b as p,c as u,F as x,m as B,e as D,n as N,f as I,i as V}from"./index-CKTkAJjy.js";const h="https://api.hafiz.dev/wp-json/wp/v2/package/",S=()=>({api:{getAll:async()=>{const{data:a}=await f(h);return a},getPackageByID:async a=>{const{data:n}=await f(h+a);return n}}}),A={class:"m-0 p-0"},E=y({__name:"Package",props:{package:{}},setup(g){const a=S(),n=N(),d=g,e=P({}),o=m(0),_=m([]),k=async t=>{const r=t.map(s=>n.api.getServiceByID(s));(await Promise.all(r)).forEach(s=>{o.value+=Number(s.acf.price),_.value.push(s)})};return w(async()=>{const t=await a.api.getPackageByID(d.package.id);Object.assign(e,t),k(e.services)}),(t,r)=>{const l=j("Card");return e.title?(c(),b(l,{key:0},{title:v(()=>[C(i(e.title.rendered)+" - SGD "+i(o.value),1)]),content:v(()=>[p("ul",A,[(c(!0),u(x,null,B(_.value,s=>(c(),u("li",{key:s.id},i(s.title.rendered),1))),128))])]),_:1})):D("",!0)}}}),F={class:"row pt-5"},O={class:"col-6 d-flex flex-column justify-content-center"},$={class:"display-1 mt-n3"},z={class:"display-5 pb-5"},L=y({__name:"Page",setup(g){const a=V("cta"),n=S(),d=I(),e=P({}),o=m([]);return w(async()=>{Object.assign(e,await d.api.getPageBySlug("packages")),a.update(e),o.value=await n.api.getAll()}),(_,k)=>{var t,r;return c(),u("div",F,[p("div",O,[p("h1",$,i((t=e.acf)==null?void 0:t.page_title),1),p("p",z,i((r=e.acf)==null?void 0:r.page_sub_title),1)]),(c(!0),u(x,null,B(o.value,l=>(c(),b(E,{class:"mb-4",package:l},null,8,["package"]))),256))])}}});export{L as default};
